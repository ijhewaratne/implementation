# Google ADK Advanced Configuration
# This file contains ADK-specific configuration parameters

# ADK Core Settings
adk:
  # ADK version and compatibility
  version: "latest"
  compatibility_mode: "auto"  # auto, strict, permissive
  
  # ADK initialization
  initialization:
    # Connection settings
    connection:
      timeout: 30
      retry_attempts: 3
      retry_delay: 5
    
    # Authentication
    authentication:
      # Use service account if available
      use_service_account: false
      service_account_path: null
      
      # API key authentication
      use_api_key: true
      api_key_env_var: "GEMINI_API_KEY"
    
    # Project settings
    project:
      project_id: null  # Set if using Google Cloud project
      location: "global"  # or specific region

# Agent Management
agents:
  # Agent lifecycle management
  lifecycle:
    # Agent creation
    creation:
      auto_create: true
      validate_config: true
      timeout: 30
    
    # Agent destruction
    destruction:
      auto_cleanup: true
      cleanup_timeout: 10
  
  # Agent communication
  communication:
    # Inter-agent communication
    inter_agent:
      enabled: true
      timeout: 60
      retry_attempts: 2
    
    # Agent-to-tool communication
    tool_communication:
      timeout: 120
      retry_attempts: 2
      parallel_execution: true

# Tool Integration
tools:
  # Tool registration
  registration:
    auto_register: true
    validate_tools: true
    timeout: 30
  
  # Tool execution
  execution:
    # Execution settings
    timeout: 120
    retry_attempts: 2
    parallel_execution: true
    
    # Resource management
    resource_limits:
      max_concurrent_tools: 5
      memory_limit: "1GB"
      cpu_limit: "2 cores"
  
  # Tool monitoring
  monitoring:
    enabled: true
    metrics:
      - execution_time
      - success_rate
      - error_rate
      - resource_usage

# Performance Optimization
performance:
  # Caching
  caching:
    enabled: true
    cache_size: "100MB"
    ttl: 3600  # seconds
    
    # Cache strategies
    strategies:
      - agent_responses
      - tool_results
      - configuration_data
  
  # Connection pooling
  connection_pooling:
    enabled: true
    pool_size: 10
    max_overflow: 5
    pool_timeout: 30
  
  # Batch processing
  batch_processing:
    enabled: true
    batch_size: 10
    batch_timeout: 60

# Error Handling and Recovery
error_handling:
  # Error classification
  classification:
    # Retryable errors
    retryable:
      - "quota_exceeded"
      - "rate_limit_exceeded"
      - "network_error"
      - "timeout_error"
    
    # Non-retryable errors
    non_retryable:
      - "authentication_error"
      - "authorization_error"
      - "invalid_request"
      - "resource_not_found"
  
  # Retry policies
  retry_policies:
    # Exponential backoff
    exponential_backoff:
      base_delay: 1
      max_delay: 60
      multiplier: 2
    
    # Linear backoff
    linear_backoff:
      delay: 5
      max_retries: 3
  
  # Circuit breaker
  circuit_breaker:
    enabled: true
    failure_threshold: 5
    recovery_timeout: 60
    half_open_max_calls: 3

# Monitoring and Observability
monitoring:
  # Metrics collection
  metrics:
    # System metrics
    system:
      - cpu_usage
      - memory_usage
      - disk_usage
      - network_usage
    
    # Application metrics
    application:
      - request_count
      - response_time
      - error_count
      - success_rate
    
    # ADK-specific metrics
    adk:
      - agent_creation_time
      - tool_execution_time
      - inter_agent_communication_time
      - cache_hit_rate
  
  # Logging
  logging:
    # Log levels
    levels:
      adk: "INFO"
      agents: "INFO"
      tools: "INFO"
      performance: "WARNING"
    
    # Log destinations
    destinations:
      - console
      - file
      - remote  # Optional: send to remote logging service
    
    # Log formatting
    format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  
  # Health checks
  health_checks:
    enabled: true
    interval: 30  # seconds
    timeout: 10  # seconds
    
    # Health check endpoints
    endpoints:
      - adk_status
      - agent_health
      - tool_health
      - system_health

# Security Configuration
security:
  # Authentication
  authentication:
    # API key security
    api_key:
      # Rotate API keys
      rotation_enabled: false
      rotation_interval: 30  # days
      
      # API key validation
      validation:
        enabled: true
        check_format: true
        check_permissions: true
  
  # Authorization
  authorization:
    # Role-based access control
    rbac:
      enabled: false
      roles:
        - admin
        - user
        - readonly
  
  # Data protection
  data_protection:
    # Encryption
    encryption:
      enabled: false
      algorithm: "AES-256"
    
    # Data masking
    masking:
      enabled: true
      fields:
        - api_key
        - sensitive_user_data

# Development and Testing
development:
  # Development mode
  dev_mode:
    enabled: false
    features:
      - debug_logging
      - mock_responses
      - performance_profiling
  
  # Testing
  testing:
    # Test mode
    test_mode:
      enabled: false
      use_mocks: true
      mock_delay: 1  # seconds
    
    # Test data
    test_data:
      directory: "test_data"
      auto_generate: false
    
    # Test isolation
    isolation:
      enabled: true
      cleanup_after_tests: true

# Environment-specific Configuration
environments:
  # Development environment
  development:
    adk:
      initialization:
        timeout: 60
        retry_attempts: 5
    
    performance:
      caching:
        enabled: false
    
    monitoring:
      logging:
        levels:
          adk: "DEBUG"
          agents: "DEBUG"
          tools: "DEBUG"
    
    development:
      dev_mode:
        enabled: true
  
  # Production environment
  production:
    adk:
      initialization:
        timeout: 30
        retry_attempts: 3
    
    performance:
      caching:
        enabled: true
        cache_size: "500MB"
    
    monitoring:
      logging:
        levels:
          adk: "WARNING"
          agents: "INFO"
          tools: "INFO"
    
    security:
      data_protection:
        encryption:
          enabled: true
        masking:
          enabled: true
  
  # Testing environment
  testing:
    adk:
      initialization:
        timeout: 10
        retry_attempts: 1
    
    performance:
      caching:
        enabled: false
    
    monitoring:
      logging:
        levels:
          adk: "INFO"
          agents: "INFO"
          tools: "INFO"
    
    development:
      testing:
        test_mode:
          enabled: true
          use_mocks: true
